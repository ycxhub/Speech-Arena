# =============================================================================
# TTS Arena — Environment variables
# Copy this file to .env.local and fill in the values. Do not commit .env.local.
# =============================================================================

# -----------------------------------------------------------------------------
# Supabase (database, auth, storage)
# -----------------------------------------------------------------------------
# Also configure in Supabase Dashboard → Authentication → URL Configuration:
# - Site URL: your production URL (e.g. https://speecharena.org) — used when redirectTo is not specified
# - Redirect URLs: add each origin (wildcards only in path, not port):
#   - http://localhost:3000/**, http://localhost:3001/**, etc. — one per dev port
#   - https://<your-domain>/** — production
# Required for email confirmation, password reset, and OAuth (Google sign-in).
#
# Project URL from Supabase Dashboard → Settings → API
NEXT_PUBLIC_SUPABASE_URL=

# Publishable key (replaces legacy anon key). Safe to expose; RLS protects data.
# Format: sb_publishable_... (or legacy anon JWT — both work)
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=

# Secret key for server-only admin operations (replaces legacy service_role key).
# Format: sb_secret_... (or legacy service_role JWT — both work)
# Never expose to the client.
SUPABASE_SECRET_KEY=

# -----------------------------------------------------------------------------
# Cloudflare R2 (S3-compatible object storage for audio files)
# -----------------------------------------------------------------------------
# Account ID from Cloudflare Dashboard → R2 → Overview
R2_ACCOUNT_ID=

# R2 API token credentials: create in Dashboard → R2 → Manage R2 API Tokens
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=

# Bucket name for storing generated audio files
R2_BUCKET_NAME=

# Public URL for the bucket (e.g. https://cdn.speecharena.org when using R2 custom domain)
R2_PUBLIC_URL=

# -----------------------------------------------------------------------------
# API Key Encryption (for TTS provider keys stored in api_keys table)
# -----------------------------------------------------------------------------
# Required for decrypting API keys when generating TTS audio.
# Must match the secret used when encrypting keys (pgp_sym_encrypt with encode(..., 'hex')).
API_KEY_ENCRYPTION_SECRET=

# -----------------------------------------------------------------------------
# API Key Encryption
# -----------------------------------------------------------------------------
# Secret for encrypting/decrypting API keys at rest. Must be at least 16 characters.
# Never commit this value. Used by admin when adding keys and by TTS generation pipeline.
API_KEY_ENCRYPTION_SECRET=

# -----------------------------------------------------------------------------
# Privacy / Anonymization
# -----------------------------------------------------------------------------
# Salt for anonymizing user IDs in CSV exports. Server-only.
ANONYMIZATION_SALT=

# -----------------------------------------------------------------------------
# Cron (optional)
# -----------------------------------------------------------------------------
# Secret for cron endpoints. Set in Vercel env; cron requests must send Authorization: Bearer <CRON_SECRET>
CRON_SECRET=

# -----------------------------------------------------------------------------
# App
# -----------------------------------------------------------------------------
# Base URL of the app (e.g. http://localhost:3000 in dev, https://your-domain.com in prod)
NEXT_PUBLIC_APP_URL=http://localhost:3000
